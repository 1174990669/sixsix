!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=354)}({354:function(e,t,a){e.exports=a(355)},355:function(e,t,a){"use strict";a.r(t);a(356)},356:function(e,t){$((function(){var e=0,t=$(".course").data("id"),a=$(".package").data("id"),n=$("#zixueVip").is(":checked"),r=10,o=document.getElementById("iframeid");function i(){$(".js_PayLoading").hide()}function c(){2!=e?$(".js_PayLoading").show():i();var o=objSite.getServiceUrl("/buy/course_web/getFee");r=10,n&&(r=22);var c=e;2==c&&(c=3),console.log("payway",e),$.post(o,{course_id:t,package_id:a,cz_type:c,order_type:r},(function(e){var t="￥";if(3==c)t="$";$(".js_TotalPrice").find(".js_Num").html(t+e.data.total_fee),$(".js_Discount").find(".js_Num").html("-"+t+e.data.discount_fee),0==e.data.discount_fee?$(".js_Discount").hide():$(".js_Discount").show(),$(".js_ActualPrice").find(".js_Num").html(t+e.data.final_fee)})).error((function(e){layer.msg("请求超时")})),2!=e&&s()}function s(){$(".qrcode-wx-wrap").empty(),$("#paypalsubmit").remove();var n=e,c=objSite.getServiceUrl("/payment/do_payment"),s={course_id:t,package_id:a,cz_type:2==n?3:n,cz_source:0,order_type:r};s=JSON.stringify(s),$.ajaxSettings.timeout=3e3,$.post(c,{data:s},(function(e){if(1==e.status){switch(console.log(n),n){case 1:$("#jkma").val(e.data.jkma),o.src=e.data.payurl,o.onload=function(){i()};break;case 2:$("#jkma").val(e.data.jkma),$(".ali-pay-div").append(e.data.payurl),u();break;case 0:default:$("#jkma").val(e.data.jkma),function(e){var t,a=navigator.userAgent.toLowerCase();a.indexOf("msie")>-1&&(t=a.match(/msie ([\d.]+)/)[1]);$(".qrcode-wx-wrap").empty(),t<="8.0"?$(".qrcode-wx-wrap").qrcode({render:"table",width:140,height:140,text:e}):$(".qrcode-wx-wrap").qrcode({width:140,height:140,text:e})}(e.data.qrcode),i()}u()}else layer.msg(e.msg)})).error((function(e){layer.msg("请求超时")}))}function u(){clearInterval(loadPay);var e=$("#jkma").val();loadPay=setInterval((function(){var a=objSite.getServiceUrl("/pay/check_pay");$.post(a,{service:"ll.order.check",jkma:e,cz_channel:r},(function(e){200===e.status&&(clearInterval(loadPay),setTimeout((function(){!function(e){parent.layer.closeAll();var t=objSite.getZixueUrl("/course/pay/success?course_id="+e);parent.layer.open({type:2,area:["400px","260px"],closeBtn:0,zIndex:parent.layer.zIndex,shadeClose:!0,skin:"my-close-skin",title:!1,resize:!1,content:[t,"no"],success:function(e,t){}})}(t)}),1e3),function(){$(".js_BuyWrap .open-course-lesson",window.parent.document).remove();var e=$(".js_BuyWrap .js_PayCourse",window.parent.document);e.removeClass("js_PayCourse").addClass("open-course-lesson"),e.attr("data-lesson",0),e.html('<div class="anim"></div>开始学习')}(),$("#jkma").val(e.data))})).error((function(e){layer.msg("请求超时")}))}),2e3)}n&&(r=22),$(".js_Channels").children("div").on("click",(function(t){var a=$(this);a.addClass("checked").siblings("div").removeClass("checked");var n=a.index();e=n,$(".js_AreaBody").children(".pay-pay-item").eq(n).show().siblings(".pay-pay-item").hide(),c()})),$("#zixueVip").on("change",(function(e){var t=$(this);n=t.is(":checked"),c()})),c(),$("#cz_link").on("click",(function(e){s()}))}))}});